import{i as ee,a as i,k as te,j as e,L as d}from"./index-COMo_l_O.js";function le(){const{slug:j}=ee(),[s,T]=i.useState(null),[x,v]=i.useState(null),[g,F]=i.useState(1),[n,w]=i.useState("itinerary"),[c,p]=i.useState(0),[_,E]=i.useState(!1),[O,P]=i.useState(0),[R,q]=i.useState(!1),[Z,M]=i.useState(!1),m=i.useRef(null),$=i.useRef(null);i.useEffect(()=>{let t=!1;if(j)return(async()=>{try{const a=await te(j);if(t)return;if(T(a),a){const l=a.travelWindow?.start??(a.departureDates&&a.departureDates.length?a.departureDates[0]:null);v(l)}}catch(a){console.error("fetchTourBySlug error",a),t||T(null)}})(),()=>{t=!0}},[j]),i.useEffect(()=>{if(s?.images&&s.images.length>1)return m.current=window.setInterval(()=>{p(t=>s.images?(t+1)%s.images.length:0)},4500),()=>{m.current&&(clearInterval(m.current),m.current=null)};m.current&&(clearInterval(m.current),m.current=null)},[s]);function A(t){if(!$.current||!t)return;const a=$.current.querySelector(`[data-date="${t}"]`);a&&a.scrollIntoView({behavior:"smooth",inline:"center"})}if(i.useEffect(()=>{const t=a=>{const l=s?.departureDates;if(!l||l.length===0||!x)return;const r=l.indexOf(x);if(r!==-1){if(a.key==="ArrowLeft"){const h=l[Math.max(0,r-1)];v(h),A(h)}else if(a.key==="ArrowRight"){const h=l[Math.min(l.length-1,r+1)];v(h),A(h)}}};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[x,s?.departureDates]),!s)return e.jsx("p",{className:"p-6 text-slate-200",children:"Loading tour details..."});const b=t=>new Date(t).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"});function J(t){const a=t.regularPricePerPerson,l=t.promoPricePerPerson,r=t.durationDays??t.itinerary?.length??0,h=t.basePricePerDay??0,Y=Math.round(h*r);return{regular:a,promo:l,computed:Y,effective:typeof a=="number"?a:typeof l=="number"?l:Y}}function N(t,a=!1){return a?`PHP ${Math.round(t).toLocaleString("en-PH")}`:`PHP ${t.toLocaleString("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2})}`}const o=J(s),S=typeof o.regular=="number"?o.regular:o.effective,I=R&&typeof o.promo=="number"?o.promo:S,Q=Math.max(1,g)*(I??0),y=j??s.slug,u=s.itinerary??[],f=s.highlights??[],z=s.additionalInfo?.countriesVisited??[],L=!!s.travelWindow?.start&&!!s.travelWindow?.end,G=Array.isArray(s.departureDates)&&s.departureDates.length>0,k={france:"fr",switzerland:"ch",italy:"it","vatican city":"va",vatican:"va",austria:"at",germany:"de",spain:"es",portugal:"pt",netherlands:"nl","the netherlands":"nl",belgium:"be",denmark:"dk",sweden:"se",norway:"no",finland:"fi",ireland:"ie",croatia:"hr",greece:"gr",hungary:"hu",poland:"pl","czech republic":"cz",czechia:"cz",slovakia:"sk",slovenia:"si",romania:"ro",bulgaria:"bg",russia:"ru",turkey:"tr",philippines:"ph",china:"cn",japan:"jp","south korea":"kr",korea:"kr",india:"in",thailand:"th",vietnam:"vn",indonesia:"id",malaysia:"my",singapore:"sg",australia:"au","new zealand":"nz",nz:"nz",usa:"us","united states":"us","united states of america":"us",canada:"ca",mexico:"mx",brazil:"br",argentina:"ar","united kingdom":"gb",uk:"gb",england:"gb",scotland:"gb",wales:"gb","northern ireland":"gb"};function W(t){if(!t)return;const a=t.trim().toLowerCase();if(k[a])return k[a];const l=a.split(/[,(]/)[0].trim();if(k[l])return k[l]}function U(t){if(!t)return;const a=t.toUpperCase();if(a.length!==2)return;const l=127462+(a.charCodeAt(0)-65),r=127462+(a.charCodeAt(1)-65);return String.fromCodePoint(l,r)}const C=s.fullStops??[];function B(){!s||!s.images||s.images.length===0||p(t=>{const a=s.images?.length??1;return(t-1+a)%a})}function H(){!s||!s.images||s.images.length===0||p(t=>(t+1)%(s.images?.length??1))}function D(t=0){P(t),E(!0)}function V(t){F(a=>Math.max(1,Math.min(10,a+t)))}const X={background:"linear-gradient(180deg, rgba(2,18,51,1) 0%, rgba(8,42,102,1) 35%, rgba(4,18,55,1) 100%)","--accent-yellow":"#FFD24D","--accent-yellow-600":"#FFC107","--muted-slate":"#94a3b8"};function K({compact:t=!1}){const a=t?"p-3":"p-4",l=t?"text-sm px-2 py-1":"px-3 py-2";return e.jsxs("div",{className:`w-full ${a} bg-white card-glass border border-white/8 rounded-lg shadow-lg`,children:[e.jsx("div",{className:"text-xs text-slate-500",children:"Launch Offer"}),e.jsxs("div",{className:"mt-2 flex items-baseline gap-3",children:[e.jsx("div",{className:"text-2xl font-bold",style:{color:"var(--accent-yellow)"},children:N(S)}),e.jsx("div",{className:"text-xs text-slate-500",children:"per person"})]}),e.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[o.promo!==void 0&&e.jsx("div",{className:"text-xs text-slate-900 bg-accent-yellow px-2 py-1 rounded",children:"Promo available"}),e.jsx("div",{className:"text-xs text-slate-400",children:"· Flexible payment"})]}),t?e.jsxs("div",{className:"mt-3 space-y-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(d,{to:`/search?countries=${encodeURIComponent(z[0]??"")}&brands=Trafalgar&useEmbeddedCards=true`,className:`${l} bg-rose-600 text-white rounded`,children:"Available Dates"}),e.jsx(d,{to:`/tour/builder/${encodeURIComponent(y)}`,className:`${l} border rounded bg-white hover:bg-slate-50`,children:"Customize"})]}),e.jsx(d,{to:`/booking/${encodeURIComponent(y)}`,state:{tour:s,selectedDate:x,passengers:g,perPerson:I},className:"w-full text-center px-3 py-2 bg-accent-yellow text-slate-900 rounded font-semibold block",children:"BOOK NOW"})]}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"mt-3 flex gap-2",children:e.jsx(d,{to:`/search?countries=${encodeURIComponent(z[0]??"")}&brands=Trafalgar&useEmbeddedCards=true`,className:`${l} bg-rose-600 text-white rounded`,children:"Available Dates"})})}),!t&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mt-4",children:[e.jsx("div",{className:"text-xs text-slate-400",children:"PASSENGERS"}),e.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[e.jsx("button",{onClick:()=>V(-1),className:"px-2 py-1 bg-white/6 rounded",children:"−"}),e.jsx("input",{type:"number",min:1,max:10,value:g,onChange:r=>F(Math.max(1,Math.min(10,Number(r.target.value)||1))),className:"w-16 text-black px-2 py-1 rounded border","aria-label":"Number of passengers"}),e.jsx("button",{onClick:()=>V(1),className:"px-2 py-1 bg-white/6 rounded",children:"+"}),e.jsx("div",{className:"ml-auto text-xs text-slate-400",children:"Max 10"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-xs text-slate-300",children:"PRICE"}),e.jsx("div",{className:"text-xs text-slate-400",children:"Preview options"})]}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"text-lg font-semibold",style:{color:"var(--accent-yellow)"},children:[N(S)," ",e.jsx("span",{className:"text-xs text-slate-300",children:"per person"})]}),e.jsx("div",{className:"mt-2 flex items-center gap-2",children:o.promo!==void 0&&e.jsxs(e.Fragment,{children:[e.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-200",children:[e.jsx("input",{type:"checkbox",checked:R,onChange:r=>q(r.target.checked)}),"Use promo for totals"]}),e.jsxs("div",{className:"text-xs text-slate-300",children:["Promo: ",e.jsx("span",{className:"font-semibold",children:N(o.promo??0)})]})]})}),g>1&&e.jsxs("div",{className:"text-sm font-bold mt-3 text-white",children:["Total: ",N(Q)]})]})]}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsx(d,{to:`/tour/builder/${encodeURIComponent(y)}`,className:"flex-1 text-center px-3 py-2 bg-accent-yellow text-slate-900 rounded font-semibold",children:"CUSTOMIZE"}),e.jsx(d,{to:`/booking/${encodeURIComponent(y)}`,state:{tour:s,selectedDate:x,passengers:g,perPerson:I},className:"px-3 py-2 border rounded text-sm inline-flex items-center gap-2 bg-white text-slate-900 font-semibold shadow hover:shadow-md",children:"BOOK NOW"})]})]})]})}return e.jsxs("div",{className:"min-h-screen",style:X,children:[e.jsx("style",{children:`
        .accent-yellow { color: var(--accent-yellow); }
        .bg-accent-yellow { background-color: var(--accent-yellow); }
        .ring-accent-yellow { box-shadow: 0 0 0 3px rgba(255,210,77,0.12); }
        .tab-underline { transition: transform .25s cubic-bezier(.2,.9,.2,1), opacity .25s; }
        .fade-enter { opacity: 0; transform: translateY(6px); }
        .fade-enter-active { opacity: 1; transform: translateY(0); transition: all .28s ease; }
        .card-glass { background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); backdrop-filter: blur(6px); }
        .modal-backdrop { background: rgba(2,6,23,0.6); }
        .itinerary-day { transition: all .18s ease; }
        .itinerary-day:hover { transform: translateY(-4px); box-shadow: 0 8px 30px rgba(2,6,23,0.45); }
      `}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("nav",{className:"text-sm text-slate-200/80 mb-4 flex items-center gap-2",children:[e.jsx(d,{to:"/",className:"hover:underline",children:"Home"}),e.jsx("span",{className:"text-slate-400",children:"/"}),e.jsx(d,{to:"/tours",className:"hover:underline",children:"Tours"}),e.jsx("span",{className:"text-slate-400",children:"/"}),e.jsx("span",{className:"text-white font-medium",children:s.title})]}),e.jsxs("div",{className:"lg:hidden",children:[e.jsx("div",{className:"relative mb-4",children:e.jsx("div",{className:"rounded-lg overflow-hidden shadow-xl",children:e.jsxs("div",{className:"relative w-full h-48 bg-slate-800 rounded",children:[s.images&&s.images.length>0?e.jsx("img",{src:s.images[c],alt:`${s.title} image ${c+1}`,className:"w-full h-full object-cover transition-transform duration-700 ease-out transform hover:scale-105",loading:"lazy",onClick:()=>D(c),style:{cursor:"zoom-in"}}):e.jsx("img",{src:"/assets/placeholder.jpg",alt:"placeholder",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-black/40"}),e.jsx("button",{"aria-label":"Previous image",onClick:B,className:"absolute left-3 top-1/2 -translate-y-1/2 bg-white/10 hover:bg-white/20 text-white rounded-full p-1.5",children:"‹"}),e.jsx("button",{"aria-label":"Next image",onClick:H,className:"absolute right-3 top-1/2 -translate-y-1/2 bg-white/10 hover:bg-white/20 text-white rounded-full p-1.5",children:"›"}),e.jsx("div",{className:"absolute left-4 bottom-4 text-left text-white z-10",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"inline-flex items-center gap-1 bg-white/20 text-white px-2 py-1 rounded-full text-xs",children:[s.durationDays??u.length," days"]}),s.guaranteedDeparture&&e.jsx("span",{className:"inline-flex items-center gap-1 bg-emerald-500/20 text-emerald-200 px-2 py-1 rounded-full text-xs",children:"Guaranteed"})]})}),e.jsx("div",{className:"absolute right-3 bottom-3 flex gap-1 z-10",children:s.images?.map((t,a)=>e.jsx("button",{onClick:()=>p(a),"aria-label":`Go to image ${a+1}`,className:`w-1.5 h-1.5 rounded-full ${a===c?"bg-accent-yellow":"bg-white/30"}`},a))})]})})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-200/80",children:s.line??"Line"}),e.jsx("h1",{className:"font-serif font-extrabold text-2xl text-white mt-1 leading-tight",children:s.title}),e.jsx("p",{className:"text-slate-300 mt-2 text-sm",children:s.summary}),e.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[e.jsx("button",{onClick:()=>D(0),className:"px-3 py-1.5 bg-accent-yellow text-slate-900 rounded font-semibold text-sm",children:"View gallery"}),f.length>0&&e.jsxs("span",{className:"text-xs text-slate-300",children:["• ",f.slice(0,2).join(", ")]})]})]}),e.jsx("div",{className:"mb-6",children:e.jsx(K,{compact:!0})})]}),e.jsxs("div",{className:"mb-6 hidden lg:grid grid-cols-3 gap-6 items-start relative",children:[e.jsx("div",{className:"lg:col-span-2 relative",children:e.jsx("div",{className:"rounded-lg overflow-hidden shadow-xl",children:e.jsxs("div",{className:"relative w-full h-80 md:h-[380px] bg-slate-800 rounded",children:[s.images&&s.images.length>0?e.jsx("img",{src:s.images[c],alt:`${s.title} image ${c+1}`,className:"w-full h-full object-cover transition-transform duration-700 ease-out transform hover:scale-105",loading:"lazy",onClick:()=>D(c),style:{cursor:"zoom-in"}}):e.jsx("img",{src:"/assets/placeholder.jpg",alt:"placeholder",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-black/30"}),e.jsx("button",{"aria-label":"Previous image",onClick:B,className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/10 hover:bg-white/20 text-white rounded-full p-2",children:"‹"}),e.jsx("button",{"aria-label":"Next image",onClick:H,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/10 hover:bg-white/20 text-white rounded-full p-2",children:"›"}),e.jsxs("div",{className:"absolute left-6 bottom-6 text-left text-white max-w-2xl z-10",children:[e.jsx("div",{className:"mt-0",children:e.jsx("p",{className:"text-slate-200/90 max-w-xl",children:String(s.shortDescription||s.summary||"")})}),e.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[e.jsxs("span",{className:"inline-flex items-center gap-2 bg-white/6 text-white px-3 py-1 rounded-full text-sm",children:["• ",s.durationDays??u.length," days"]}),s.guaranteedDeparture&&e.jsx("span",{className:"inline-flex items-center gap-2 bg-emerald-50/6 text-emerald-200 px-3 py-1 rounded-full text-sm",children:"Guaranteed"}),e.jsx("button",{onClick:()=>D(0),className:"px-3 py-1.5 bg-accent-yellow text-slate-900 rounded font-semibold text-sm",children:"View gallery"})]})]}),e.jsx("div",{className:"absolute right-4 bottom-4 flex gap-2 z-10",children:s.images?.map((t,a)=>e.jsx("button",{onClick:()=>p(a),"aria-label":`Go to image ${a+1}`,className:`w-2 h-2 rounded-full ${a===c?"bg-accent-yellow":"bg-white/30"}`},a))})]})})}),e.jsx("div",{className:"lg:col-span-1 items-start flex",children:e.jsx("div",{className:"w-full",children:e.jsx(K,{})})})]}),e.jsx("div",{className:"mb-6 hidden lg:block",children:e.jsx("div",{className:"bg-transparent rounded-md",children:e.jsxs("div",{className:"lg:flex lg:items-center lg:justify-between",children:[e.jsxs("div",{className:"lg:w-2/3",children:[e.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-200/80",children:s.line??"Line"}),e.jsx("h1",{className:"font-serif font-extrabold text-3xl md:text-4xl text-white mt-2 leading-tight",children:s.title}),e.jsx("p",{className:"text-slate-300 mt-3 max-w-3xl",children:s.summary}),e.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3",children:[e.jsxs("span",{className:"inline-flex items-center gap-2 bg-white/6 text-white px-3 py-1 rounded-full text-sm",children:["• ",s.durationDays??u.length," days"]}),s.guaranteedDeparture&&e.jsx("span",{className:"inline-flex items-center gap-2 bg-emerald-50/6 text-emerald-200 px-3 py-1 rounded-full text-sm",children:"Guaranteed departure"}),f.length>0&&e.jsxs("span",{className:"text-sm text-slate-300",children:["• ",f.join(", ")]})]})]}),e.jsx("div",{className:"mt-4 lg:mt-0 lg:w-1/3 lg:text-right"})]})})}),e.jsx("div",{className:"bg-white/6 card-glass rounded-t-lg border-b border-white/6 mb-6",children:e.jsx("div",{className:"px-4",children:e.jsxs("div",{className:"flex gap-4 overflow-x-auto",children:[e.jsx("button",{onClick:()=>w("itinerary"),className:`px-3 py-3 whitespace-nowrap -mb-px ${n==="itinerary"?"border-b-2 border-accent-yellow text-accent-yellow font-semibold":"text-slate-200"}`,children:"Itinerary"}),e.jsx("button",{onClick:()=>w("availability"),className:`px-3 py-3 whitespace-nowrap -mb-px ${n==="availability"?"border-b-2 border-accent-yellow text-accent-yellow font-semibold":"text-slate-200"}`,children:"Availability"}),e.jsx("button",{onClick:()=>w("extensions"),className:`px-3 py-3 whitespace-nowrap -mb-px ${n==="extensions"?"border-b-2 border-accent-yellow text-accent-yellow font-semibold":"text-slate-200"}`,children:"Extensions"}),e.jsx("button",{onClick:()=>w("details"),className:`px-3 py-3 whitespace-nowrap -mb-px ${n==="details"?"border-b-2 border-accent-yellow text-accent-yellow font-semibold":"text-slate-200"}`,children:"Details"})]})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 lg:gap-8",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsxs("div",{children:[n==="itinerary"&&e.jsxs("div",{className:"bg-white/6 card-glass rounded-lg p-4 lg:p-6 border border-white/6",children:[e.jsx("h3",{className:"text-lg lg:text-xl font-semibold mb-4 text-white",children:"Day-by-day itinerary"}),e.jsxs("div",{className:"space-y-6",children:[u.map(t=>e.jsx("div",{className:"p-4 border rounded-lg bg-white/4",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm text-slate-300",children:["Day ",t.day]}),e.jsx("div",{className:"text-lg font-semibold text-white",children:t.title}),e.jsx("p",{className:"text-slate-300 mt-2",children:t.description})]})})},t.day)),u.length===0&&e.jsx("div",{className:"text-slate-300",children:"No itinerary available."})]})]}),n==="availability"&&e.jsxs("div",{className:"bg-white/6 card-glass rounded-lg p-6 border border-white/6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4 text-white",children:"Availability"}),e.jsx("p",{className:"text-slate-300",children:L?e.jsxs(e.Fragment,{children:["This tour runs from ",e.jsx("strong",{className:"text-white",children:b(s.travelWindow.start)})," to ",e.jsx("strong",{className:"text-white",children:b(s.travelWindow.end)}),"."]}):G?e.jsx(e.Fragment,{children:"Multiple discrete departure dates are available. Choose one from the right."}):e.jsx(e.Fragment,{children:"Availability details are not available."})})]}),n==="extensions"&&e.jsxs("div",{className:"bg-white/6 card-glass rounded-lg p-6 border border-white/6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4 text-white",children:"Extensions"}),e.jsx("p",{className:"text-slate-300",children:"Optional extensions (e.g., pre/post stays) are available on some departures."})]}),n==="details"&&e.jsxs("div",{className:"bg-white/6 card-glass rounded-lg p-6 border border-white/6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4 text-white",children:"Tour details"}),e.jsx("p",{className:"text-slate-300",children:"Practical information, inclusion/exclusion, activity level and more."})]})]})}),e.jsxs("aside",{className:"space-y-6",children:[e.jsxs("section",{className:"bg-white/6 card-glass rounded-lg p-5 border border-white/6 shadow-sm",children:[e.jsx("h4",{className:"text-sm text-slate-200 mb-3",children:"Departure"}),L?e.jsxs("div",{className:"text-sm text-slate-200",children:[e.jsxs("div",{className:"font-semibold text-white",children:[b(s.travelWindow.start)," – ",b(s.travelWindow.end)]}),e.jsx("div",{className:"text-slate-400 text-xs mt-1",children:"Travel window (inclusive)"})]}):G?e.jsx("div",{ref:$,className:"flex gap-2 overflow-x-auto pb-1",children:s.departureDates.map(t=>e.jsx("button",{"data-date":t,onClick:()=>v(t),className:`px-3 py-2 text-sm rounded-lg border whitespace-nowrap ${x===t?"bg-accent-yellow text-slate-900 border-accent-yellow":"bg-white/6 text-slate-200 border-white/10"}`,"aria-pressed":x===t,children:b(t)},t))}):e.jsx("div",{className:"text-sm text-slate-400",children:"No departure information available"})]}),e.jsxs("section",{className:"bg-white/6 card-glass rounded-lg p-5 border border-white/6 shadow-sm",children:[e.jsx("h4",{className:"text-sm text-slate-200 mb-2",children:"Tour overview"}),e.jsxs("div",{className:"text-sm text-slate-200",children:[e.jsx("p",{className:"mb-2",children:s.summary}),e.jsxs("ul",{className:"text-sm text-slate-300 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{className:"text-white",children:"Duration:"})," ",s.durationDays??u.length," days"]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-white",children:"Countries:"})," ",z.join(", ")||"—"]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-white",children:"Highlights:"})," ",f.join(", ")||"—"]})]})]})]}),e.jsxs("div",{className:"bg-white/6 card-glass rounded-lg p-4 border border-white/6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"text-sm font-semibold text-white",children:"Stops"}),e.jsx("div",{className:"text-xs text-slate-300",children:"On-tour cities"})]}),e.jsx("div",{className:"max-h-48 overflow-auto pr-2",children:e.jsxs("ul",{className:"space-y-2",children:[C.length===0&&e.jsx("li",{className:"text-slate-300",children:"No stops provided."}),C.map((t,a)=>{const l=W(t.country),r=U(l);return e.jsxs("li",{className:"flex items-center gap-3 text-slate-200",children:[e.jsx("div",{className:"text-2xl leading-none",children:r??"🏳️"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium",children:t.city}),e.jsx("div",{className:"text-xs text-slate-300",children:t.country})]})]},`${t.city}-${a}`)})]})}),e.jsx("div",{className:"mt-3",children:e.jsx("button",{onClick:()=>M(!0),className:"text-sm px-3 py-2 bg-accent-yellow text-slate-900 rounded",children:"Open route map"})})]})]})]})]}),_&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center modal-backdrop",children:e.jsx("div",{className:"max-w-4xl w-full mx-4 bg-transparent",children:e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>E(!1),className:"absolute right-2 top-2 z-50 bg-white/10 text-white rounded-full p-2",children:"✕"}),s.images&&s.images.length>0&&e.jsx("img",{src:s.images[O],alt:`Gallery ${O+1}`,className:"w-full h-[70vh] object-contain"}),e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2",children:e.jsx("button",{onClick:()=>P(t=>(t-1+(s.images?.length??1))%(s.images?.length??1)),className:"bg-white/10 text-white rounded-full p-2",children:"‹"})}),e.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2",children:e.jsx("button",{onClick:()=>P(t=>(t+1)%(s.images?.length??1)),className:"bg-white/10 text-white rounded-full p-2",children:"›"})})]})})}),Z&&e.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center modal-backdrop",children:e.jsxs("div",{className:"max-w-2xl w-full mx-4 bg-white/6 card-glass rounded-lg p-4 border border-white/8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("h3",{className:"text-white font-semibold",children:"Route preview"}),e.jsx("button",{onClick:()=>M(!1),className:"text-white/80",children:"Close"})]}),e.jsx("div",{className:"text-slate-200 text-sm",children:e.jsxs("ol",{className:"space-y-2",children:[C.length===0&&e.jsx("li",{children:"No stops to preview."}),C.map((t,a)=>{const l=W(t.country),r=U(l);return e.jsxs("li",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-2xl",children:r??"🏳️"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:t.city}),e.jsx("div",{className:"text-xs text-slate-300",children:t.country})]})]},a)})]})})]})})]})}export{le as default};
