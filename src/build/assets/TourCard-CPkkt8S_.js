import{c as f,a as o,j as e,e as z,C as M,d as A,h as D,M as L,L as _}from"./index-COMo_l_O.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],H=f("arrow-right",E);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],G=f("circle-check-big",R);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],V=f("heart",T),c=s=>typeof s=="number",W=s=>typeof s=="string",q=s=>Array.isArray(s)&&s.every(d=>typeof d=="string");function F({tour:s,onWishlist:d,onShare:y,isWishlisted:P=!1}){const[x,u]=o.useState(!1),[i,k]=o.useState(P),[b,h]=o.useState(0);o.useEffect(()=>{if(!x||!s.images||s.images.length<=1)return;const t=setInterval(()=>{h(a=>(a+1)%s.images.length)},1e3);return()=>clearInterval(t)},[x,s.images]);const S=t=>{t.preventDefault(),t.stopPropagation();const a=!i;k(a),d?.(s.slug,a)},C=t=>{t.preventDefault(),t.stopPropagation(),y?.(s)},n=c(s.regularPricePerPerson)?s.regularPricePerPerson:void 0,g=c(s.promoPricePerPerson)?s.promoPricePerPerson:void 0,I=c(s.price)?s.price:void 0,v=c(s.rating)?s.rating:void 0,j=W(s.travelDate)?s.travelDate:void 0,l=q(s.countries)?s.countries:void 0,m=g&&n&&g<n,p=m?g:n||I,r=m?n:void 0,w=r&&p?Math.round((r-p)/r*100):0,$=s.images?.[b]??"/image.png";return e.jsxs("article",{className:"group relative rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-3 hover:scale-105 h-80 flex flex-col cursor-pointer border border-transparent hover:border-blue-400/60 hover:ring-2 hover:ring-blue-200/40",onMouseEnter:()=>u(!0),onMouseLeave:()=>{u(!1),h(0)},role:"article","aria-labelledby":`tour-title-${s.slug}`,children:[e.jsxs("div",{className:"absolute inset-0 transition-transform duration-300 group-hover:scale-110 group-hover:brightness-105",children:[e.jsx("img",{src:$,alt:s.title,className:"w-full h-full object-cover transition-opacity duration-500",loading:"lazy"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-black/10"})]}),e.jsxs("div",{className:"absolute top-3 right-3 flex gap-2 z-20",children:[s.images&&s.images.length>1&&e.jsxs("div",{className:"bg-black/50 text-white px-2 py-1 rounded-full text-xs",children:["📷 ",s.images.length]}),e.jsx("button",{onClick:S,className:`p-2 rounded-full backdrop-blur-sm transition-all duration-200 hover:scale-110 ${i?"bg-red-500/90 text-white":"bg-white/80 text-gray-700 hover:bg-white"}`,"aria-label":i?"Remove from wishlist":"Add to wishlist",children:e.jsx(V,{className:`w-4 h-4 ${i?"fill-current":""}`})}),e.jsx("button",{onClick:C,className:"p-2 bg-white/80 text-gray-700 rounded-full backdrop-blur-sm hover:bg-white transition-all duration-200 hover:scale-110","aria-label":"Share tour",children:e.jsx(z,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"absolute top-3 left-3 flex flex-col gap-2 z-10",children:[e.jsxs("span",{className:"bg-yellow-400 text-blue-900 text-xs font-semibold px-3 py-1 rounded-full shadow-lg",children:[e.jsx(M,{className:"w-3 h-3 inline mr-1"}),s.durationDays," days"]}),m&&w>0&&e.jsxs("span",{className:"bg-red-500 text-white text-xs font-semibold px-3 py-1 rounded-full shadow-lg",children:["Save ",w,"%"]})]}),e.jsxs("div",{className:"absolute bottom-20 left-3 flex flex-wrap gap-2 z-10",children:[e.jsxs("span",{className:"bg-green-600/90 text-white px-2 py-1 rounded text-xs flex items-center gap-1 backdrop-blur-sm",children:[e.jsx(G,{className:"w-3 h-3"}),"Guaranteed Departure"]}),e.jsx("span",{className:"bg-blue-600/90 text-white px-2 py-1 rounded text-xs backdrop-blur-sm",children:"🗣️ English Guide"}),v&&e.jsxs("span",{className:"bg-yellow-500/90 text-white px-2 py-1 rounded text-xs flex items-center gap-1 backdrop-blur-sm",children:[e.jsx(A,{className:"w-3 h-3 fill-current"}),v.toFixed(1)]})]}),e.jsxs("div",{className:"relative z-10 p-5 flex flex-col justify-end h-full text-white",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("h3",{id:`tour-title-${s.slug}`,className:"text-lg font-bold leading-snug drop-shadow-md line-clamp-2",children:s.title}),e.jsx("p",{className:"text-sm text-gray-200 drop-shadow line-clamp-2",children:s.summary}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-300 mt-1",children:[j&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(D,{className:"w-3 h-3"}),e.jsx("span",{children:j})]}),l&&l.length>0&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(L,{className:"w-3 h-3"}),e.jsx("span",{children:l.slice(0,2).join(", ")}),l.length>2&&e.jsxs("span",{children:["+",l.length-2]})]})]})]}),e.jsxs("div",{className:"flex justify-between items-end mt-4",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"text-xs text-gray-300",children:"Starting from"}),e.jsxs("div",{className:"flex items-center gap-2",children:[r&&e.jsxs("span",{className:"text-sm text-gray-400 line-through",children:["PHP ",r.toLocaleString()]}),e.jsxs("span",{className:"text-lg font-bold text-yellow-400",children:["PHP ",p?.toLocaleString()||"N/A"]})]}),e.jsx("div",{className:"text-xs text-gray-300",children:"/person"})]}),e.jsxs(_,{to:`/tour/${s.slug}`,className:"inline-flex items-center gap-2 bg-blue-600 text-white text-sm font-medium px-4 py-2 rounded-full shadow-lg hover:bg-blue-700 transition-all duration-200 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2","aria-label":`View details for ${s.title}`,children:["More Info ",e.jsx(H,{size:16})]})]})]}),s.images&&s.images.length>1&&x&&e.jsx("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 flex gap-1 z-20",children:s.images.map((t,a)=>e.jsx("button",{className:`w-2 h-2 rounded-full transition-all ${a===b?"bg-white":"bg-white/50"}`,onClick:N=>{N.preventDefault(),N.stopPropagation(),h(a)},"aria-label":`View image ${a+1}`},a))})]})}export{G as C,F as T};
