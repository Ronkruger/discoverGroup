import{a as l,u as g,j as e,L as j}from"./index-COMo_l_O.js";const w="http://localhost:4000";function v(){const[s,h]=l.useState({email:"",password:"",confirmPassword:"",fullName:"",phone:"",birthDate:"",gender:""}),[i,n]=l.useState(""),[d,m]=l.useState(!1),[c,p]=l.useState(!1),[u,x]=l.useState(!1),b=g();function r(a){h(t=>({...t,[a.target.name]:a.target.value}))}async function f(a){if(a.preventDefault(),n(""),s.password!==s.confirmPassword){n("Passwords do not match");return}m(!0);try{const t=await fetch(`${w}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s.email,password:s.password,fullName:s.fullName,phone:s.phone,birthDate:s.birthDate,gender:s.gender})}),o=await t.json();if(!t.ok)throw new Error(o.error||"Registration failed");localStorage.setItem("token",o.token),localStorage.setItem("user",JSON.stringify(o.user)),b("/")}catch(t){t instanceof Error?n(t.message):n(String(t))}finally{m(!1)}}return e.jsxs("div",{className:"max-w-md mx-auto mt-12 p-6 bg-white rounded shadow",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Client Registration"}),i&&e.jsx("div",{className:"mb-3 text-red-600",children:i}),e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 font-medium",children:"Full Name"}),e.jsx("input",{type:"text",name:"fullName",className:"w-full border rounded px-3 py-2",value:s.fullName,onChange:r,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 font-medium",children:"Email"}),e.jsx("input",{type:"email",name:"email",className:"w-full border rounded px-3 py-2",value:s.email,onChange:r,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 font-medium",children:"Phone"}),e.jsx("input",{type:"tel",name:"phone",className:"w-full border rounded px-3 py-2",value:s.phone,onChange:r,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 font-medium",children:"Birth Date"}),e.jsx("input",{type:"date",name:"birthDate",className:"w-full border rounded px-3 py-2",value:s.birthDate,onChange:r,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 font-medium",children:"Gender"}),e.jsxs("select",{name:"gender",className:"w-full border rounded px-3 py-2",value:s.gender,onChange:r,required:!0,children:[e.jsx("option",{value:"",children:"Select gender"}),e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"}),e.jsx("option",{value:"other",children:"Other"}),e.jsx("option",{value:"prefer_not_to_say",children:"Prefer not to say"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 font-medium",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:c?"text":"password",name:"password",className:"w-full border rounded px-3 py-2 pr-10",value:s.password,onChange:r,required:!0}),e.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500",tabIndex:-1,onClick:()=>p(a=>!a),children:c?"🙈":"👁️"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1 font-medium",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:u?"text":"password",name:"confirmPassword",className:"w-full border rounded px-3 py-2 pr-10",value:s.confirmPassword,onChange:r,required:!0}),e.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500",tabIndex:-1,onClick:()=>x(a=>!a),children:u?"🙈":"👁️"})]})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded font-semibold",disabled:d,children:d?"Registering...":"Register"})]}),e.jsxs("div",{className:"mt-4 text-sm text-center",children:["Already have an account?"," ",e.jsx(j,{to:"/login",className:"text-blue-600 hover:underline",children:"Login"})]})]})}export{v as default};
